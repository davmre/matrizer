# derivative of GP predictive mean and cov wrt training kernel

# variable declarations
Kinv: n x n posdef
dK: n x n symmetric
Ks: m x n
Kss: m x m
y: n x 1


# dimension estimates
n ~ 100
m ~ 10

# expression to be optimized
alpha = Kinv * y;
mean = -1*Ks * Kinv * dK * Kinv * y;
cov = Kss + Ks * Kinv * dK * Kinv * Ks'