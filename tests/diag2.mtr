A: n x n
b: n x 1

n ~ 100

tmp B = diag(b);
r = B * A